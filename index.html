<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CyberChronos OS v17.0 [Public Access]</title>
    
    <link rel="stylesheet" href="styles.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>

    <div id="auth-modal" class="modal-overlay">
        <div class="auth-box">
            <div class="auth-header">
                <h3>VOXTEK IDENTITY</h3>
                <p>Enter Secure Credentials</p>
            </div>
            <form id="login-form">
                <input type="email" id="email" placeholder="CODENAME (EMAIL)" required class="auth-input">
                <input type="password" id="password" placeholder="ACCESS KEY (PASSWORD)" required class="auth-input">
                <button type="submit" class="auth-btn">ESTABLISH LINK</button>
            </form>
            <button class="auth-btn-close" onclick="toggleLoginModal()">CANCEL</button>
            <div class="auth-footer" id="auth-msg">Standby...</div>
        </div>
    </div>

    <nav class="top-nav">
        <button class="menu-toggle" onclick="toggleSidebar()" aria-label="Toggle Menu" id="menuBtn">☰</button>
        <div class="top-status">
            UID: <span id="header-uid" style="color:var(--primary)">GUEST</span> | 
            NET: <span id="net-stat" style="color:var(--success)">OPEN</span>
        </div>
    </nav>

    <aside class="sidebar" id="sidebar">
        <div class="brand">
            <h1>CyberChronos</h1>
            <span>SYSTEM v17.0</span>
        </div>

        <div class="user-profile-widget">
            <div class="avatar-wrapper">
                <div class="avatar-ring role-guest" id="user-role-ring">
                    <img id="user-avatar" src="https://via.placeholder.com/100/000000/00f0ff?text=?" alt="Avatar">
                </div>
                <div class="role-badge" id="user-role-badge">CITIZEN</div>
            </div>
            <div class="user-info">
                <div class="u-name" id="user-name">Citizen-0000</div>
                <div class="u-id" id="user-role-text">Unregistered Entity</div>
            </div>
        </div>

        <nav class="nav-menu">
            <button class="nav-btn active" onclick="switchTab('dash', this)">SYSTEM STATUS</button>
            <button class="nav-btn" onclick="switchTab('term', this)">TERMINAL</button>
            <button class="nav-btn" onclick="window.open('https://voxtek-site.vercel.app', '_blank')">VOXTEK MAIN</button>
            <div class="nav-sep"></div>
            <button class="nav-btn auth-toggle-btn" id="authBtn" onclick="handleAuthClick()">CONNECT LINK</button>
        </nav>
    </aside>

    <main class="main-viewport" id="viewport">
        
        <section id="dash" class="panel active">
            <h2>Overview <span class="meta-tag" id="os-tag">DETECTING...</span></h2>

            <div class="grid-layout">
                <div class="card">
                    <div class="card-label">Identity</div>
                    <div class="card-value" id="host-name">Guest Node</div>
                    <div class="card-sub" style="color: var(--warning);">LOCAL ONLY</div>
                </div>
                <div class="card">
                    <div class="card-label">Active Nodes</div>
                    <div class="card-value" id="active-count">0</div>
                    <div class="card-sub">GLOBAL NETWORK</div>
                </div>
                <div class="card">
                    <div class="card-label">Power Core</div>
                    <div class="card-value" id="batt-val">--%</div>
                    <div class="card-sub" id="batt-status">Scanning...</div>
                </div>
            </div>

            <div class="users-section">
                <div class="users-header">Active Neural Links [LIVE]</div>
                <div class="users-grid" id="users-grid">
                    <div style="padding:10px; color:#666; font-size:0.8rem;">Login required to see global network.</div>
                </div>
            </div>

            <div class="net-monitor">
                <div class="card-label">Data Stream</div>
                <div class="bars-container" id="visualizer"></div>
            </div>
        </section>

        <section id="term" class="panel">
            <h2>Command Interface <span class="meta-tag">GUEST</span></h2>
            <div class="term-wrapper">
                <div class="term-header">
                    <div class="term-dot red"></div><div class="term-dot yellow"></div><div class="term-dot green"></div>
                    <span style="margin-left:auto; color:#666">bash — public</span>
                </div>
                <div class="terminal-box" id="term-box" role="log" aria-live="polite">
                    <div class="term-row" style="color:var(--primary)">VoxTek Secure Kernel v17.0</div>
                    <div class="term-row">Login as: Guest (Citizen)</div>
                    <div class="term-row">Restricted Access. Type 'help'.</div>
                    <br>
                    <div id="term-output"></div>
                    <div class="input-row">
                        <span class="prompt" id="term-prompt">guest@cyberchronos:~#</span>
                        <input type="search" class="cmd-input" id="cmd-in" autocomplete="off" enterkeyhint="go">
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="sys-footer">
        <span>MEM: <span id="ram-val">4096</span>MB</span>
        <span>UPTIME: <span id="uptime">00:00</span></span>
    </footer>

    <script src="scripts.js"></script>
</body>
</html>
