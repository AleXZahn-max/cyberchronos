<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#020202">
    <title>CyberChronos OS v19.0 [Overwatch]</title>
    
    <link rel="stylesheet" href="styles.css">
    
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>

    <div id="auth-modal" class="modal-overlay">
        <div class="auth-box">
            <div class="auth-header">
                <h3>VOXTEK IDENTITY</h3>
                <p>Secure Link Required</p>
            </div>
            <form id="login-form">
                <input type="email" id="email" placeholder="CODENAME (EMAIL)" required class="auth-input">
                <input type="password" id="password" placeholder="ACCESS KEY (PASSWORD)" required class="auth-input">
                <button type="submit" class="auth-btn">ESTABLISH LINK</button>
            </form>
            <button class="auth-btn-close" onclick="toggleLoginModal()">CANCEL CONNECTION</button>
            <div class="auth-footer" id="auth-msg">Standby...</div>
        </div>
    </div>

    <nav class="top-nav">
        <button class="menu-toggle" onclick="toggleSidebar()" aria-label="Toggle Menu" id="menuBtn">â˜°</button>
        <div class="top-status">
            <span class="desktop-only">UID: <span id="header-uid" style="color:var(--primary)">GUEST</span> | </span>
            NET: <span id="net-stat" style="color:var(--success)">OPEN</span>
        </div>
    </nav>

    <aside class="sidebar" id="sidebar">
        <div class="brand">
            <h1>CyberChronos</h1>
            <span>SYSTEM v19.0</span>
        </div>

        <div class="user-profile-widget">
            <div class="avatar-wrapper">
                <div class="avatar-ring role-guest" id="user-role-ring">
                    <img id="user-avatar" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiMwNTA1MDUiLz48dGV4dCB4PSI1MCIgeT0iNTUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iNTAiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjMDBmMGZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj4/PC90ZXh0Pjwvc3ZnPg==" alt="Avatar">
                </div>
                <div class="role-badge" id="user-role-badge">CITIZEN</div>
            </div>
            <div class="user-info">
                <div class="u-name" id="user-name">Citizen-0000</div>
                <div class="u-id" id="user-role-text">Unregistered Entity</div>
            </div>
        </div>

        <nav class="nav-menu">
            <button class="nav-btn active" onclick="switchTab('dash', this)">SYSTEM STATUS</button>
            <button class="nav-btn" onclick="switchTab('control', this)">VOXTEK OVERWATCH</button>
            <button class="nav-btn" onclick="switchTab('term', this)">TERMINAL</button>
            <div class="nav-sep"></div>
            <button class="nav-btn auth-toggle-btn" id="authBtn" onclick="handleAuthClick()">CONNECT LINK</button>
        </nav>
    </aside>

    <main class="main-viewport" id="viewport">
        
        <section id="dash" class="panel active">
            <h2>Overview <span class="meta-tag" id="os-tag">DETECTING...</span></h2>

            <div class="grid-layout">
                <div class="card">
                    <div class="card-label">Identity</div>
                    <div class="card-value" id="host-name">Guest Node</div>
                    <div class="card-sub" style="color: var(--warning);">LOCAL ACCESS ONLY</div>
                </div>
                <div class="card">
                    <div class="card-label">Global Nodes</div>
                    <div class="card-value" id="active-count">0</div>
                    <div class="card-sub">VOXTEK NETWORK</div>
                </div>
                <div class="card">
                    <div class="card-label">Power Core</div>
                    <div class="card-value" id="batt-val">--%</div>
                    <div class="card-sub" id="batt-status">Scanning...</div>
                </div>
            </div>

            <div class="users-section">
                <div class="users-header">Active Neural Links [LIVE]</div>
                <div class="users-grid" id="users-grid">
                    <div style="padding:10px; color:#666; font-size:0.8rem; font-family:var(--font-code);">
                        >> ACCESS DENIED. LOGIN REQUIRED TO VIEW GLOBAL NETWORK.
                    </div>
                </div>
            </div>

            <div class="net-monitor">
                <div class="card-label">Encrypted Data Stream</div>
                <div class="bars-container" id="visualizer"></div>
            </div>
        </section>

        <section id="control" class="panel">
            <h2>Overwatch Control <span class="meta-tag" style="background:var(--danger); color:black;">ADMIN ONLY</span></h2>
            
            <div id="admin-view" class="secure-wrapper" style="display:none;">
                <div class="secure-header">
                    <div class="secure-indicator">
                        <div class="led-blink"></div>
                        <span>CONNECTED TO: voxtek-site.vercel.app [CORE]</span>
                    </div>
                    <div style="font-family: var(--font-code); color: var(--success);">PING: 12ms</div>
                </div>

                <div class="control-grid">
                    <div class="c-widget large">
                        <div class="w-head">SERVER INTEGRITY</div>
                        <div class="server-status-box">
                            <div class="status-circle" id="srv-circle">
                                <span id="srv-text">OK</span>
                            </div>
                            <div class="status-details">
                                <div>UPTIME: <span style="color:white">99.9%</span></div>
                                <div>LOAD: <span style="color:var(--primary)">14%</span></div>
                                <div>TEMP: <span style="color:var(--success)">34Â°C</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="c-widget">
                        <div class="w-head">SECURITY PROTOCOLS</div>
                        <div class="switch-row">
                            <span>FIREWALL</span>
                            <label class="cyber-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="switch-row">
                            <span>ANTI-DDOS</span>
                            <label class="cyber-switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="switch-row">
                            <span>GHOST MODE</span>
                            <label class="cyber-switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="c-widget">
                        <div class="w-head">TRAFFIC LIMITER</div>
                        <div class="slider-container">
                            <input type="range" min="0" max="100" value="80" class="cyber-range" id="traffic-range">
                            <div class="range-val" id="traffic-val">80%</div>
                        </div>
                        <div style="margin-top:10px; font-size:0.7rem; color:#666;">
                            LIMITING BANDWIDTH SAVES POWER BUT INCREASES LATENCY.
                        </div>
                    </div>

                    <div class="c-widget">
                        <div class="w-head">EMERGENCY ACTIONS</div>
                        <div class="action-btn-grid">
                            <button class="act-btn" onclick="log('>> FLUSHING DNS CACHE...', 'var(--warning)')">FLUSH DNS</button>
                            <button class="act-btn" onclick="log('>> RESTARTING PODS...', 'var(--primary)')">REBOOT</button>
                            <button class="act-btn danger" onclick="alert('ARE YOU SURE YOU WANT TO INITIATE LOCKDOWN?')">LOCKDOWN</button>
                        </div>
                    </div>

                    <div class="c-widget wide">
                        <div class="w-head">LIVE SERVER LOGS</div>
                        <div class="log-window" id="server-logs">
                            <div class="log-line"><span class="l-time">14:02:01</span> [INFO] Connection accepted from 192.168.0.1</div>
                            <div class="log-line"><span class="l-time">14:02:05</span> [WARN] High latency detected in Sector 7</div>
                            <div class="log-line"><span class="l-time">14:03:12</span> [INFO] User "Angel_Dust" authorized</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="locked-view" class="lock-screen">
                <div class="lock-icon">ðŸ”’</div>
                <h3>ACCESS DENIED</h3>
                <p>This Control Panel is reserved for VoxTek Administrators only.</p>
                <div class="lock-code">ERR_CODE: 403_FORBIDDEN_ENTITY</div>
            </div>
        </section>

        <section id="term" class="panel">
            <h2>Command Interface <span class="meta-tag">GUEST</span></h2>
            <div class="term-wrapper">
                <div class="term-header">
                    <div class="term-dot red"></div>
                    <div class="term-dot yellow"></div>
                    <div class="term-dot green"></div>
                    <span style="margin-left:auto; color:#666">bash â€” public_access</span>
                </div>
                <div class="terminal-box" id="term-box" role="log" aria-live="polite">
                    <div class="term-row" style="color:var(--primary)">VoxTek Secure Kernel v19.0 [Public]</div>
                    <div class="term-row">Login as: Guest (Citizen)</div>
                    <div class="term-row">Type 'help' to see available commands.</div>
                    <br>
                    <div id="term-output"></div>
                    <div class="input-row">
                        <span class="prompt" id="term-prompt">guest@cyberchronos:~#</span>
                        <input type="search" class="cmd-input" id="cmd-in" autocomplete="off" spellcheck="false" enterkeyhint="go">
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="sys-footer">
        <span>MEM: <span id="ram-val">4096</span>MB</span>
        <span>UPTIME: <span id="uptime">00:00</span></span>
    </footer>

    <script src="scripts.js"></script>
</body>
</html>
